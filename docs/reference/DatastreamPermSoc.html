<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>DatastreamPermSoc — DatastreamPermSoc • CMRnet</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="DatastreamPermSoc — DatastreamPermSoc" />
<meta property="og:description" content="Creates randomised social networks for each network window using datastream permutations with user-defined restrictions (to constrain swaps according to temporal or spatial windows)" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CMRnet</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/CMRnet.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="divider"></li>
    <li class="dropdown-header">Information</li>
    <li>
      <a href="../articles/CMRnet_information.html">Detailed information on using CMRnet</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Case studies</li>
    <li>
      <a href="../articles/CaseStudyOne.html">Case Study One: Social behaviour during a badger lifetime</a>
    </li>
    <li>
      <a href="../articles/CaseStudyTwo.html">Case Study Two: Example of a multiplex movement network</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>DatastreamPermSoc</h1>
    
    <div class="hidden name"><code>DatastreamPermSoc.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Creates randomised social networks for each network window using datastream permutations with user-defined restrictions (to constrain swaps according to temporal or spatial windows)</p>
    </div>

    <pre class="usage"><span class='fu'>DatastreamPermSoc</span>(
  <span class='no'>data</span>,
  <span class='no'>intwindow</span>,
  <span class='no'>mindate</span>,
  <span class='no'>maxdate</span>,
  <span class='no'>netwindow</span>,
  <span class='no'>overlap</span>,
  <span class='no'>spacewindow</span>,
  <span class='no'>same.time</span>,
  <span class='no'>time.restrict</span>,
  <span class='no'>same.spat</span>,
  <span class='no'>spat.restrict</span>,
  <span class='no'>n.swaps</span>,
  <span class='no'>n.rand</span>,
  <span class='no'>burnin</span>,
  <span class='no'>n.burnin</span>,
  <span class='no'>iter</span>,
  <span class='kw'>buffer</span> <span class='kw'>=</span> <span class='fl'>0</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A 5 column dataframe with columns for the ID of the captured individual, the location of its capture (a name or number), the x coordinate of its capture location, the y coordinate of the capture location, and the date of capture</p></td>
    </tr>
    <tr>
      <th>intwindow</th>
      <td><p>The maximum period of time (in days) between two co-captures (i.e. if <code>intwindow = 10</code> then two individuals captured 10 days apart could be considered co-captured but two individuals captured 11 days apart would not be)</p></td>
    </tr>
    <tr>
      <th>mindate</th>
      <td><p>The start date (format = <code>"YYYY-MM-DD"</code>) of the study (i.e. when you want to build networks from)</p></td>
    </tr>
    <tr>
      <th>maxdate</th>
      <td><p>The end date (format = <code>"YYYY-MM-DD"</code>) of the study (i.e. when you want to build networks until). Please provide as the day after the last day of the study.</p></td>
    </tr>
    <tr>
      <th>netwindow</th>
      <td><p>The period of time (in months) over which each network is built(i.e. <code>netwindow=12</code> would correspond to yearly networks)</p></td>
    </tr>
    <tr>
      <th>overlap</th>
      <td><p>The amount of overlap between networks in months (i.e. <code>overlap=2</code> would result in a second network window starting 2 months before the end of the first). When <code>overlap=0</code>, there is no overlap between successive network windows</p></td>
    </tr>
    <tr>
      <th>spacewindow</th>
      <td><p>The maximum distance between locations that can be classed as a co-capture (calculated using the coordinate system provided in the input data). Best used when multiple capture locations occur very close together</p></td>
    </tr>
    <tr>
      <th>same.time</th>
      <td><p>(TRUE/FALSE) Whether swaps should be restricted to only occur betwen individuals trapped on the same date or not</p></td>
    </tr>
    <tr>
      <th>time.restrict</th>
      <td><p>Provided as a number of months. Imposes time restrictions on when swaps can take place so that individuals can only be swapped with those a fixed time before or after being captured</p></td>
    </tr>
    <tr>
      <th>same.spat</th>
      <td><p>(TRUE/FALSE) Whether swaps should be restricted to only occur between individuals trapped at the same location</p></td>
    </tr>
    <tr>
      <th>spat.restrict</th>
      <td><p>Provided on the same scale as the coordinates in the input dataset. Imposes space restrictions on when swaps can take place so that individuals can only be swapped with those captued within a fixed distance</p></td>
    </tr>
    <tr>
      <th>n.swaps</th>
      <td><p>The number of swaps between each random network being extracted (e.g. <code>n.swaps = 10</code> would equate to 10 swaps taking place between each random network being saved)</p></td>
    </tr>
    <tr>
      <th>n.rand</th>
      <td><p>The number of randomised networks to be generated</p></td>
    </tr>
    <tr>
      <th>burnin</th>
      <td><p>(TRUE/FALSE) Whether burnin is required</p></td>
    </tr>
    <tr>
      <th>n.burnin</th>
      <td><p>The number of swaps to discard as burn-in before the first random network is created. The total number of swaps conducted is thus n.burnin+n.swaps*n.rand</p></td>
    </tr>
    <tr>
      <th>iter</th>
      <td><p>(TRUE/FALSE) Whether iterative randomisations are being used. If TRUE then D.rand is also returned</p></td>
    </tr>
    <tr>
      <th>buffer</th>
      <td><p>The number of days around a capture event that an individual can't be swapped into. Defaults to zero. This exists for when trapping schedules would prevent an individual trapped on one day being trapped on adjacent days</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>If <code>iter=TRUE</code> then a list of length 3 with elements corresponding to: <br /></p><ol>
<li><p>The randomised dataset (for feeding back into the next permutation)</p></li>
<li><p>Randomised adjacency matrix list: a list of with the same number of elements at the number of network windows, with each element containing an array of the randomised adjacency matrices</p></li>
<li><p>A matrix identifying whether an individual was present in each network window.</p></li>
</ol>

<p>If <code>iter=FALSE</code> then a list of length 2 with elements corresponding to: <br /></p><ol>
<li><p>Randomised adjacency matrix list: a list of with the same number of elements at the number of network windows, with each element containing an array of the randomised adjacency matrices</p></li>
<li><p>A matrix identifying whether an individual was present in each network window. The edge list is not provided due to to the memory that providing this and the list of matrix arrays would require.</p></li>
</ol>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># load in data</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>cmrData</span>)

<span class='co'># set parameters</span>
<span class='no'>mindate</span><span class='kw'>&lt;-</span><span class='st'>"2010-01-01"</span>
<span class='no'>maxdate</span><span class='kw'>&lt;-</span><span class='st'>"2015-01-01"</span>
<span class='no'>intwindow</span><span class='kw'>&lt;-</span><span class='fl'>60</span>
<span class='no'>netwindow</span><span class='kw'>&lt;-</span><span class='fl'>12</span>
<span class='no'>overlap</span><span class='kw'>&lt;-</span><span class='fl'>0</span>
<span class='no'>spacewindow</span><span class='kw'>&lt;-</span><span class='fl'>0</span>

<span class='co'># create network</span>
<span class='no'>netdat</span><span class='kw'>&lt;-</span><span class='fu'><a href='DynamicNetCreate.html'>DynamicNetCreate</a></span>(<span class='kw'>data</span><span class='kw'>=</span><span class='no'>cmrData</span>,
<span class='kw'>intwindow</span><span class='kw'>=</span><span class='no'>intwindow</span>,
<span class='kw'>mindate</span><span class='kw'>=</span><span class='no'>mindate</span>,
<span class='kw'>maxdate</span><span class='kw'>=</span><span class='no'>maxdate</span>,
<span class='kw'>netwindow</span><span class='kw'>=</span><span class='no'>netwindow</span>,
<span class='kw'>overlap</span><span class='kw'>=</span><span class='no'>overlap</span>,
<span class='kw'>spacewindow</span><span class='kw'>=</span><span class='no'>spacewindow</span>)

<span class='no'>same.time</span><span class='kw'>=</span><span class='fl'>FALSE</span>
<span class='no'>time.restrict</span><span class='kw'>=</span><span class='fl'>6</span>
<span class='no'>same.spat</span><span class='kw'>=</span><span class='fl'>FALSE</span>
<span class='no'>spat.restrict</span><span class='kw'>=</span><span class='st'>"n"</span>
<span class='no'>n.swaps</span><span class='kw'>=</span><span class='fl'>10</span>
<span class='no'>n.rand</span><span class='kw'>=</span><span class='fl'>100</span>
<span class='no'>n.burnin</span><span class='kw'>=</span><span class='fl'>100</span>

<span class='no'>Rs</span> <span class='kw'>&lt;-</span> <span class='fu'>DatastreamPermSoc</span>(<span class='kw'>data</span><span class='kw'>=</span><span class='no'>cmrData</span>,
<span class='no'>intwindow</span>,
<span class='no'>mindate</span>,
<span class='no'>maxdate</span>,
<span class='no'>netwindow</span>,
<span class='no'>overlap</span>,
<span class='no'>spacewindow</span>,
<span class='no'>same.time</span>,
<span class='no'>time.restrict</span>,
<span class='no'>same.spat</span>,
<span class='no'>spat.restrict</span>,
<span class='no'>n.swaps</span>,
<span class='no'>n.rand</span>,
<span class='kw'>burnin</span><span class='kw'>=</span><span class='fl'>TRUE</span>,
<span class='no'>n.burnin</span>,
<span class='kw'>iter</span><span class='kw'>=</span><span class='fl'>FALSE</span>,
<span class='kw'>buffer</span><span class='kw'>=</span><span class='fl'>0</span>)
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Matthew Silk, Daniel Padfield.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


